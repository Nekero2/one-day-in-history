<!DOCTYPE html>
<html lang="ru">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>–ò—Å—Ç–æ—Ä–∏—á–µ—Å–∫–æ–µ —Å–æ–±—ã—Ç–∏–µ –¥–Ω—è</title>
    <style>
        * {
            margin: 0;
            padding: 0;
            box-sizing: border-box;
        }

        body {
            font-family: 'Georgia', serif;
            background: linear-gradient(135deg, #1a1a2e 0%, #16213e 100%);
            color: #f0f0f0;
            min-height: 100vh;
            display: flex;
            flex-direction: column;
            align-items: center;
            justify-content: center;
            padding: 20px;
            line-height: 1.6;
        }

        .container {
            max-width: 800px;
            width: 100%;
            background: rgba(25, 25, 45, 0.9);
            border-radius: 20px;
            padding: 40px;
            box-shadow: 0 10px 30px rgba(0, 0, 0, 0.5);
            border: 1px solid rgba(255, 215, 0, 0.1);
            text-align: center;
        }

        h1 {
            font-size: 2.8rem;
            margin-bottom: 30px;
            color: #ffd700;
            text-shadow: 0 2px 10px rgba(255, 215, 0, 0.3);
            position: relative;
            padding-bottom: 15px;
        }

        h1:after {
            content: '';
            position: absolute;
            bottom: 0;
            left: 50%;
            transform: translateX(-50%);
            width: 100px;
            height: 3px;
            background: linear-gradient(90deg, transparent, #ffd700, transparent);
        }

        .card {
            background: rgba(30, 30, 50, 0.8);
            border-radius: 15px;
            padding: 40px;
            margin: 30px 0;
            border-left: 4px solid #ffd700;
            box-shadow: 0 5px 15px rgba(0, 0, 0, 0.2);
            text-align: left;
            transition: transform 0.3s ease;
        }

        .card:hover {
            transform: translateY(-5px);
        }

        .event-title {
            font-size: 1.8rem;
            color: #ffd700;
            margin-bottom: 20px;
            text-align: center;
        }

        .event-date {
            font-size: 1.2rem;
            color: #a0a0d0;
            margin-bottom: 20px;
            text-align: center;
            font-style: italic;
        }

        .event-description {
            font-size: 1.1rem;
            color: #e0e0e0;
            margin-bottom: 25px;
        }

        .event-link {
            display: inline-block;
            color: #4fc3f7;
            text-decoration: none;
            font-size: 1rem;
            transition: color 0.3s;
            border-bottom: 1px solid transparent;
        }

        .event-link:hover {
            color: #29b6f6;
            border-bottom-color: #29b6f6;
        }

        .start-screen {
            text-align: center;
            padding: 40px 0;
        }

        .instructions {
            font-size: 1.2rem;
            color: #a0a0d0;
            margin-bottom: 40px;
            max-width: 600px;
            margin-left: auto;
            margin-right: auto;
        }

        .btn {
            background: linear-gradient(135deg, #ffd700 0%, #ffaa00 100%);
            color: #1a1a2e;
            border: none;
            padding: 18px 45px;
            font-size: 1.3rem;
            font-weight: bold;
            border-radius: 50px;
            cursor: pointer;
            transition: all 0.3s ease;
            box-shadow: 0 5px 20px rgba(255, 215, 0, 0.3);
            margin-top: 20px;
        }

        .btn:hover {
            transform: translateY(-3px);
            box-shadow: 0 8px 25px rgba(255, 215, 0, 0.4);
            background: linear-gradient(135deg, #ffe44d 0%, #ffcc00 100%);
        }

        .btn:active {
            transform: translateY(-1px);
        }

        .btn:disabled {
            opacity: 0.7;
            cursor: not-allowed;
            transform: none;
        }

        .history-icon {
            font-size: 4rem;
            color: #ffd700;
            margin-bottom: 20px;
        }

        .footer {
            margin-top: 40px;
            color: #888;
            font-size: 0.9rem;
            text-align: center;
        }

        .reset-info {
            margin-top: 20px;
            font-size: 0.9rem;
            color: #a0a0d0;
        }

        @keyframes fadeIn {
            from { opacity: 0; transform: translateY(20px); }
            to { opacity: 1; transform: translateY(0); }
        }

        .fade-in {
            animation: fadeIn 0.8s ease-out;
        }

        @media (max-width: 768px) {
            .container {
                padding: 20px;
            }
            
            h1 {
                font-size: 2.2rem;
            }
            
            .card {
                padding: 25px;
            }
            
            .event-title {
                font-size: 1.5rem;
            }
        }
    </style>
</head>
<body>
    <div class="container">
        <div class="start-screen" id="startScreen">
            <div class="history-icon">üìú</div>
            <h1>–ò—Å—Ç–æ—Ä–∏—á–µ—Å–∫–æ–µ —Å–æ–±—ã—Ç–∏–µ –¥–Ω—è</h1>
            <p class="instructions">
                –ö–∞–∂–¥—ã–π –¥–µ–Ω—å - –Ω–æ–≤–∞—è —Å—Ç—Ä–∞–Ω–∏—Ü–∞ –∏—Å—Ç–æ—Ä–∏–∏. –ù–∞–∂–º–∏—Ç–µ –∫–Ω–æ–ø–∫—É –Ω–∏–∂–µ, —á—Ç–æ–±—ã —É–∑–Ω–∞—Ç—å, 
                –∫–∞–∫–æ–µ –≤–∞–∂–Ω–æ–µ –∏—Å—Ç–æ—Ä–∏—á–µ—Å–∫–æ–µ —Å–æ–±—ã—Ç–∏–µ –ø—Ä–æ–∏–∑–æ—à–ª–æ –≤ —ç—Ç–æ—Ç –¥–µ–Ω—å.
            </p>
            <button class="btn" id="generateBtn">–£–∑–Ω–∞—Ç—å —Å–æ–±—ã—Ç–∏–µ –¥–Ω—è</button>
            <div class="reset-info" id="resetInfo"></div>
        </div>

        <div class="card fade-in" id="eventCard" style="display: none;">
            <h2 class="event-title" id="eventTitle"></h2>
            <div class="event-date" id="eventDate"></div>
            <p class="event-description" id="eventDescription"></p>
            <a class="event-link" id="eventLink" target="_blank" rel="noopener">–ü–æ–¥—Ä–æ–±–Ω–µ–µ –Ω–∞ Wikipedia ‚Üí</a>
            <div style="text-align: center; margin-top: 30px;">
                <button class="btn" id="newEventBtn">–°–ª–µ–¥—É—é—â–µ–µ —Å–æ–±—ã—Ç–∏–µ</button>
            </div>
        </div>
    </div>

    <div class="footer">
        –ò—Å—Ç–æ—Ä–∏—á–µ—Å–∫–∏–µ –¥–∞–Ω–Ω—ã–µ –ø—Ä–µ–¥–æ—Å—Ç–∞–≤–ª–µ–Ω—ã Wikipedia API | –°–æ–±—ã—Ç–∏–µ –æ–±–Ω–æ–≤–ª—è–µ—Ç—Å—è –µ–∂–µ–¥–Ω–µ–≤–Ω–æ
    </div>

    <script>
        // –ò—Å—Ç–æ—Ä–∏—á–µ—Å–∫–∏–µ —Å–æ–±—ã—Ç–∏—è (–∑–∞—Ä–∞–Ω–µ–µ –ø–æ–¥–≥–æ—Ç–æ–≤–ª–µ–Ω–Ω—ã–µ –¥–∞–Ω–Ω—ã–µ –∏–∑ Wikipedia)
        const historicalEvents = [
            {
                date: "12 —è–Ω–≤–∞—Ä—è",
                title: "–û—Å–Ω–æ–≤–∞–Ω–∏–µ –ú–æ—Å–∫–æ–≤—Å–∫–æ–≥–æ —É–Ω–∏–≤–µ—Ä—Å–∏—Ç–µ—Ç–∞",
                description: "12 —è–Ω–≤–∞—Ä—è 1755 –≥–æ–¥–∞ –∏–º–ø–µ—Ä–∞—Ç—Ä–∏—Ü–∞ –ï–ª–∏–∑–∞–≤–µ—Ç–∞ –ü–µ—Ç—Ä–æ–≤–Ω–∞ –ø–æ–¥–ø–∏—Å–∞–ª–∞ —É–∫–∞–∑ –æ–± –æ—Å–Ω–æ–≤–∞–Ω–∏–∏ –ú–æ—Å–∫–æ–≤—Å–∫–æ–≥–æ —É–Ω–∏–≤–µ—Ä—Å–∏—Ç–µ—Ç–∞ ‚Äî –ø–µ—Ä–≤–æ–≥–æ —Ä–æ—Å—Å–∏–π—Å–∫–æ–≥–æ —É–Ω–∏–≤–µ—Ä—Å–∏—Ç–µ—Ç–∞ –≤ —Å–æ–≤—Ä–µ–º–µ–Ω–Ω–æ–º –ø–æ–Ω–∏–º–∞–Ω–∏–∏ —ç—Ç–æ–≥–æ —Å–ª–æ–≤–∞.",
                link: "https://ru.wikipedia.org/wiki/–ú–æ—Å–∫–æ–≤—Å–∫–∏–π_—É–Ω–∏–≤–µ—Ä—Å–∏—Ç–µ—Ç"
            },
            {
                date: "14 –º–∞—Ä—Ç–∞",
                title: "–†–æ–∂–¥–µ–Ω–∏–µ –ê–ª—å–±–µ—Ä—Ç–∞ –≠–π–Ω—à—Ç–µ–π–Ω–∞",
                description: "14 –º–∞—Ä—Ç–∞ 1879 –≥–æ–¥–∞ —Ä–æ–¥–∏–ª—Å—è –ê–ª—å–±–µ—Ä—Ç –≠–π–Ω—à—Ç–µ–π–Ω ‚Äî —Ñ–∏–∑–∏–∫-—Ç–µ–æ—Ä–µ—Ç–∏–∫, –æ–¥–∏–Ω –∏–∑ –æ—Å–Ω–æ–≤–∞—Ç–µ–ª–µ–π —Å–æ–≤—Ä–µ–º–µ–Ω–Ω–æ–π —Ç–µ–æ—Ä–µ—Ç–∏—á–µ—Å–∫–æ–π —Ñ–∏–∑–∏–∫–∏, –ª–∞—É—Ä–µ–∞—Ç –ù–æ–±–µ–ª–µ–≤—Å–∫–æ–π –ø—Ä–µ–º–∏–∏ –ø–æ —Ñ–∏–∑–∏–∫–µ 1921 –≥–æ–¥–∞.",
                link: "https://ru.wikipedia.org/wiki/–≠–π–Ω—à—Ç–µ–π–Ω,_–ê–ª—å–±–µ—Ä—Ç"
            },
            {
                date: "4 –∏—é–ª—è",
                title: "–î–µ–Ω—å –Ω–µ–∑–∞–≤–∏—Å–∏–º–æ—Å—Ç–∏ –°–®–ê",
                description: "4 –∏—é–ª—è 1776 –≥–æ–¥–∞ –±—ã–ª–∞ –ø—Ä–∏–Ω—è—Ç–∞ –î–µ–∫–ª–∞—Ä–∞—Ü–∏—è –Ω–µ–∑–∞–≤–∏—Å–∏–º–æ—Å—Ç–∏ –°–®–ê ‚Äî –∏—Å—Ç–æ—Ä–∏—á–µ—Å–∫–∏–π –¥–æ–∫—É–º–µ–Ω—Ç, –≤ –∫–æ—Ç–æ—Ä–æ–º –±—Ä–∏—Ç–∞–Ω—Å–∫–∏–µ –∫–æ–ª–æ–Ω–∏–∏ –≤ –°–µ–≤–µ—Ä–Ω–æ–π –ê–º–µ—Ä–∏–∫–µ –æ–±—ä—è–≤–∏–ª–∏ –Ω–µ–∑–∞–≤–∏—Å–∏–º–æ—Å—Ç—å –æ—Ç –í–µ–ª–∏–∫–æ–±—Ä–∏—Ç–∞–Ω–∏–∏.",
                link: "https://ru.wikipedia.org/wiki/–î–µ–∫–ª–∞—Ä–∞—Ü–∏—è_–Ω–µ–∑–∞–≤–∏—Å–∏–º–æ—Å—Ç–∏_–°–®–ê"
            },
            {
                date: "9 –º–∞—è",
                title: "–î–µ–Ω—å –ü–æ–±–µ–¥—ã",
                description: "9 –º–∞—è 1945 –≥–æ–¥–∞ –≤ 0:43 –ø–æ –º–æ—Å–∫–æ–≤—Å–∫–æ–º—É –≤—Ä–µ–º–µ–Ω–∏ –±—ã–ª –ø–æ–¥–ø–∏—Å–∞–Ω –∞–∫—Ç –æ –±–µ–∑–æ–≥–æ–≤–æ—Ä–æ—á–Ω–æ–π –∫–∞–ø–∏—Ç—É–ª—è—Ü–∏–∏ –ì–µ—Ä–º–∞–Ω–∏–∏, –æ–∑–Ω–∞–º–µ–Ω–æ–≤–∞–≤—à–∏–π –æ–∫–æ–Ω—á–∞–Ω–∏–µ –í–µ–ª–∏–∫–æ–π –û—Ç–µ—á–µ—Å—Ç–≤–µ–Ω–Ω–æ–π –≤–æ–π–Ω—ã.",
                link: "https://ru.wikipedia.org/wiki/–î–µ–Ω—å_–ü–æ–±–µ–¥—ã"
            },
            {
                date: "12 –∞–ø—Ä–µ–ª—è",
                title: "–ü–µ—Ä–≤—ã–π –ø–æ–ª–µ—Ç —á–µ–ª–æ–≤–µ–∫–∞ –≤ –∫–æ—Å–º–æ—Å",
                description: "12 –∞–ø—Ä–µ–ª—è 1961 –≥–æ–¥–∞ —Å–æ–≤–µ—Ç—Å–∫–∏–π –∫–æ—Å–º–æ–Ω–∞–≤—Ç –Æ—Ä–∏–π –ì–∞–≥–∞—Ä–∏–Ω –Ω–∞ –∫–æ—Å–º–∏—á–µ—Å–∫–æ–º –∫–æ—Ä–∞–±–ª–µ ¬´–í–æ—Å—Ç–æ–∫-1¬ª —Å–æ–≤–µ—Ä—à–∏–ª –ø–µ—Ä–≤—ã–π –≤ –∏—Å—Ç–æ—Ä–∏–∏ —á–µ–ª–æ–≤–µ—á–µ—Å—Ç–≤–∞ –ø–æ–ª–µ—Ç –≤ –∫–æ—Å–º–∏—á–µ—Å–∫–æ–µ –ø—Ä–æ—Å—Ç—Ä–∞–Ω—Å—Ç–≤–æ.",
                link: "https://ru.wikipedia.org/wiki/–ü–µ—Ä–≤—ã–π_–ø–æ–ª—ë—Ç_—á–µ–ª–æ–≤–µ–∫–∞_–≤_–∫–æ—Å–º–æ—Å"
            },
            {
                date: "6 –∞–≤–≥—É—Å—Ç–∞",
                title: "–ü–µ—Ä–≤–æ–µ –ø—Ä–∏–º–µ–Ω–µ–Ω–∏–µ –∞—Ç–æ–º–Ω–æ–π –±–æ–º–±—ã",
                description: "6 –∞–≤–≥—É—Å—Ç–∞ 1945 –≥–æ–¥–∞ –°–®–ê —Å–±—Ä–æ—Å–∏–ª–∏ –∞—Ç–æ–º–Ω—É—é –±–æ–º–±—É –Ω–∞ —è–ø–æ–Ω—Å–∫–∏–π –≥–æ—Ä–æ–¥ –•–∏—Ä–æ—Å–∏–º–∞, —á—Ç–æ –ø—Ä–∏–≤–µ–ª–æ –∫ –æ–≥—Ä–æ–º–Ω—ã–º —Ä–∞–∑—Ä—É—à–µ–Ω–∏—è–º –∏ —á–µ–ª–æ–≤–µ—á–µ—Å–∫–∏–º –∂–µ—Ä—Ç–≤–∞–º.",
                link: "https://ru.wikipedia.org/wiki/–ê—Ç–æ–º–Ω—ã–µ_–±–æ–º–±–∞—Ä–¥–∏—Ä–æ–≤–∫–∏_–•–∏—Ä–æ—Å–∏–º—ã_–∏_–ù–∞–≥–∞—Å–∞–∫–∏"
            },
            {
                date: "9 –Ω–æ—è–±—Ä—è",
                title: "–ü–∞–¥–µ–Ω–∏–µ –ë–µ—Ä–ª–∏–Ω—Å–∫–æ–π —Å—Ç–µ–Ω—ã",
                description: "9 –Ω–æ—è–±—Ä—è 1989 –≥–æ–¥–∞ –Ω–∞—á–∞–ª—Å—è –¥–µ–º–æ–Ω—Ç–∞–∂ –ë–µ—Ä–ª–∏–Ω—Å–∫–æ–π —Å—Ç–µ–Ω—ã ‚Äî —Å–∏–º–≤–æ–ª–∞ —Ö–æ–ª–æ–¥–Ω–æ–π –≤–æ–π–Ω—ã –∏ —Ä–∞–∑–¥–µ–ª–µ–Ω–∏—è –ì–µ—Ä–º–∞–Ω–∏–∏ –Ω–∞ –§–†–ì –∏ –ì–î–†.",
                link: "https://ru.wikipedia.org/wiki/–ë–µ—Ä–ª–∏–Ω—Å–∫–∞—è_—Å—Ç–µ–Ω–∞"
            },
            {
                date: "21 –∏—é–ª—è",
                title: "–ü–µ—Ä–≤–∞—è –≤—ã—Å–∞–¥–∫–∞ —á–µ–ª–æ–≤–µ–∫–∞ –Ω–∞ –õ—É–Ω—É",
                description: "21 –∏—é–ª—è 1969 –≥–æ–¥–∞ –∞—Å—Ç—Ä–æ–Ω–∞–≤—Ç –ù–∏–ª –ê—Ä–º—Å—Ç—Ä–æ–Ω–≥ –≤–ø–µ—Ä–≤—ã–µ –≤ –∏—Å—Ç–æ—Ä–∏–∏ —á–µ–ª–æ–≤–µ—á–µ—Å—Ç–≤–∞ —Å—Ç—É–ø–∏–ª –Ω–∞ –ø–æ–≤–µ—Ä—Ö–Ω–æ—Å—Ç—å –õ—É–Ω—ã –≤–æ –≤—Ä–µ–º—è –º–∏—Å—Å–∏–∏ ¬´–ê–ø–æ–ª–ª–æ–Ω-11¬ª.",
                link: "https://ru.wikipedia.org/wiki/–ê–ø–æ–ª–ª–æ–Ω-11"
            },
            {
                date: "7 –Ω–æ—è–±—Ä—è",
                title: "–û–∫—Ç—è–±—Ä—å—Å–∫–∞—è —Ä–µ–≤–æ–ª—é—Ü–∏—è",
                description: "7 –Ω–æ—è–±—Ä—è (25 –æ–∫—Ç—è–±—Ä—è –ø–æ —Å—Ç–∞—Ä–æ–º—É —Å—Ç–∏–ª—é) 1917 –≥–æ–¥–∞ –≤ –ü–µ—Ç—Ä–æ–≥—Ä–∞–¥–µ –ø—Ä–æ–∏–∑–æ—à–ª–æ –≤–æ–æ—Ä—É–∂–µ–Ω–Ω–æ–µ –≤–æ—Å—Å—Ç–∞–Ω–∏–µ, –ø—Ä–∏–≤–µ–¥—à–µ–µ –∫ –≤–ª–∞—Å—Ç–∏ –ø–∞—Ä—Ç–∏—é –±–æ–ª—å—à–µ–≤–∏–∫–æ–≤.",
                link: "https://ru.wikipedia.org/wiki/–û–∫—Ç—è–±—Ä—å—Å–∫–∞—è_—Ä–µ–≤–æ–ª—é—Ü–∏—è"
            },
            {
                date: "28 –∏—é–Ω—è",
                title: "–£–±–∏–π—Å—Ç–≤–æ —ç—Ä—Ü–≥–µ—Ä—Ü–æ–≥–∞ –§—Ä–∞–Ω—Ü–∞ –§–µ—Ä–¥–∏–Ω–∞–Ω–¥–∞",
                description: "28 –∏—é–Ω—è 1914 –≥–æ–¥–∞ –≤ –°–∞—Ä–∞–µ–≤–æ –±—ã–ª —É–±–∏—Ç —ç—Ä—Ü–≥–µ—Ä—Ü–æ–≥ –§—Ä–∞–Ω—Ü –§–µ—Ä–¥–∏–Ω–∞–Ω–¥, —á—Ç–æ —Å—Ç–∞–ª–æ –ø–æ–≤–æ–¥–æ–º –∫ –Ω–∞—á–∞–ª—É –ü–µ—Ä–≤–æ–π –º–∏—Ä–æ–≤–æ–π –≤–æ–π–Ω—ã.",
                link: "https://ru.wikipedia.org/wiki/–£–±–∏–π—Å—Ç–≤–æ_—ç—Ä—Ü–≥–µ—Ä—Ü–æ–≥–∞_–§—Ä–∞–Ω—Ü–∞_–§–µ—Ä–¥–∏–Ω–∞–Ω–¥–∞"
            },
            {
                date: "2 —Å–µ–Ω—Ç—è–±—Ä—è",
                title: "–û–∫–æ–Ω—á–∞–Ω–∏–µ –í—Ç–æ—Ä–æ–π –º–∏—Ä–æ–≤–æ–π –≤–æ–π–Ω—ã",
                description: "2 —Å–µ–Ω—Ç—è–±—Ä—è 1945 –≥–æ–¥–∞ –Ω–∞ –±–æ—Ä—Ç—É –ª–∏–Ω–∫–æ—Ä–∞ ¬´–ú–∏—Å—Å—É—Ä–∏¬ª –±—ã–ª –ø–æ–¥–ø–∏—Å–∞–Ω –∞–∫—Ç –æ –∫–∞–ø–∏—Ç—É–ª—è—Ü–∏–∏ –Ø–ø–æ–Ω–∏–∏, —á—Ç–æ –æ–∑–Ω–∞–º–µ–Ω–æ–≤–∞–ª–æ –æ–∫–æ–Ω—á–∞–Ω–∏–µ –í—Ç–æ—Ä–æ–π –º–∏—Ä–æ–≤–æ–π –≤–æ–π–Ω—ã.",
                link: "https://ru.wikipedia.org/wiki/–ö–∞–ø–∏—Ç—É–ª—è—Ü–∏—è_–Ø–ø–æ–Ω–∏–∏"
            },
            {
                date: "11 —Å–µ–Ω—Ç—è–±—Ä—è",
                title: "–¢–µ—Ä–∞–∫—Ç—ã –≤ –°–®–ê",
                description: "11 —Å–µ–Ω—Ç—è–±—Ä—è 2001 –≥–æ–¥–∞ –ø—Ä–æ–∏–∑–æ—à–ª–∞ —Å–µ—Ä–∏—è —Ç–µ—Ä—Ä–æ—Ä–∏—Å—Ç–∏—á–µ—Å–∫–∏—Ö –∞–∫—Ç–æ–≤ –≤ –°–®–ê, –≤ —Ä–µ–∑—É–ª—å—Ç–∞—Ç–µ –∫–æ—Ç–æ—Ä—ã—Ö –±—ã–ª–∏ —Ä–∞–∑—Ä—É—à–µ–Ω—ã –±–∞—à–Ω–∏ –í—Å–µ–º–∏—Ä–Ω–æ–≥–æ —Ç–æ—Ä–≥–æ–≤–æ–≥–æ —Ü–µ–Ω—Ç—Ä–∞ –≤ –ù—å—é-–ô–æ—Ä–∫–µ.",
                link: "https://ru.wikipedia.org/wiki/–¢–µ—Ä–∞–∫—Ç—ã_11_—Å–µ–Ω—Ç—è–±—Ä—è_2001_–≥–æ–¥–∞"
            }
        ];

        // –ü–æ–ª—É—á–∞–µ–º —Ç–µ–∫—É—â—É—é –¥–∞—Ç—É –≤ —Ñ–æ—Ä–º–∞—Ç–µ YYYY-MM-DD
        function getCurrentDate() {
            const now = new Date();
            return now.toISOString().split('T')[0];
        }

        // –ì–µ–Ω–µ—Ä–∞—Ü–∏—è —Å–ª—É—á–∞–π–Ω–æ–≥–æ —Å–æ–±—ã—Ç–∏—è –Ω–∞ –æ—Å–Ω–æ–≤–µ —Ç–µ–∫—É—â–µ–π –¥–∞—Ç—ã
        function getTodaysEvent() {
            const today = getCurrentDate();
            const lastEventDate = localStorage.getItem('lastEventDate');
            let eventIndex = parseInt(localStorage.getItem('eventIndex'));
            
            // –ï—Å–ª–∏ –¥–µ–Ω—å —Å–º–µ–Ω–∏–ª—Å—è –∏–ª–∏ —ç—Ç–æ –ø–µ—Ä–≤—ã–π –≤–∏–∑–∏—Ç
            if (lastEventDate !== today || !lastEventDate || isNaN(eventIndex)) {
                // –ì–µ–Ω–µ—Ä–∏—Ä—É–µ–º –Ω–æ–≤—ã–π –∏–Ω–¥–µ–∫—Å —Å–æ–±—ã—Ç–∏—è –Ω–∞ –æ—Å–Ω–æ–≤–µ –¥–∞—Ç—ã
                const dateHash = today.split('-').reduce((acc, num) => acc + parseInt(num), 0);
                eventIndex = dateHash % historicalEvents.length;
                
                // –°–æ—Ö—Ä–∞–Ω—è–µ–º –Ω–∞—Å—Ç—Ä–æ–π–∫–∏ –Ω–∞ —Å–µ–≥–æ–¥–Ω—è
                localStorage.setItem('lastEventDate', today);
                localStorage.setItem('eventIndex', eventIndex);
            }
            
            return historicalEvents[eventIndex];
        }

        // –ü–æ–ª—É—á–µ–Ω–∏–µ —Å–ª—É—á–∞–π–Ω–æ–≥–æ —Å–æ–±—ã—Ç–∏—è (–¥–ª—è –∫–Ω–æ–ø–∫–∏ "–°–ª–µ–¥—É—é—â–µ–µ —Å–æ–±—ã—Ç–∏–µ")
        function getRandomEvent() {
            const usedEvents = JSON.parse(localStorage.getItem('usedEvents')) || [];
            const availableEvents = historicalEvents.filter((_, index) => !usedEvents.includes(index));
            
            if (availableEvents.length === 0) {
                // –ï—Å–ª–∏ –≤—Å–µ —Å–æ–±—ã—Ç–∏—è –ø—Ä–æ—Å–º–æ—Ç—Ä–µ–Ω—ã, —Å–±—Ä–∞—Å—ã–≤–∞–µ–º —Å–ø–∏—Å–æ–∫
                localStorage.setItem('usedEvents', JSON.stringify([]));
                return historicalEvents[Math.floor(Math.random() * historicalEvents.length)];
            }
            
            const randomIndex = Math.floor(Math.random() * availableEvents.length);
            const selectedEvent = availableEvents[randomIndex];
            const originalIndex = historicalEvents.findIndex(e => e === selectedEvent);
            
            usedEvents.push(originalIndex);
            localStorage.setItem('usedEvents', JSON.stringify(usedEvents));
            
            return selectedEvent;
        }

        // –ü–æ–∫–∞–∑–∞—Ç—å —Å–æ–±—ã—Ç–∏–µ –Ω–∞ —ç–∫—Ä–∞–Ω–µ
        function showEvent(event) {
            document.getElementById('eventTitle').textContent = event.title;
            document.getElementById('eventDate').textContent = `–î–∞—Ç–∞ —Å–æ–±—ã—Ç–∏—è: ${event.date}`;
            document.getElementById('eventDescription').textContent = event.description;
            document.getElementById('eventLink').href = event.link;
            
            document.getElementById('startScreen').style.display = 'none';
            document.getElementById('eventCard').style.display = 'block';
        }

        // –û–±–Ω–æ–≤–ª–µ–Ω–∏–µ –∏–Ω—Ñ–æ—Ä–º–∞—Ü–∏–∏ –æ —Å–±—Ä–æ—Å–µ
        function updateResetInfo() {
            const now = new Date();
            const tomorrow = new Date(now);
            tomorrow.setDate(tomorrow.getDate() + 1);
            tomorrow.setHours(0, 0, 0, 0);
            
            const diff = tomorrow - now;
            const hours = Math.floor(diff / (1000 * 60 * 60));
            const minutes = Math.floor((diff % (1000 * 60 * 60)) / (1000 * 60));
            
            document.getElementById('resetInfo').textContent = 
                `–°–æ–±—ã—Ç–∏–µ –¥–Ω—è –æ–±–Ω–æ–≤–∏—Ç—Å—è —á–µ—Ä–µ–∑: ${hours}—á ${minutes}–º`;
        }

        // –ò–Ω–∏—Ü–∏–∞–ª–∏–∑–∞—Ü–∏—è –ø—Ä–∏–ª–æ–∂–µ–Ω–∏—è
        function initApp() {
            const today = getCurrentDate();
            const lastVisitDate = localStorage.getItem('lastVisitDate');
            
            // –ü—Ä–æ–≤–µ—Ä—è–µ–º, –ø–æ–∫–∞–∑—ã–≤–∞–ª–∏ –ª–∏ —É–∂–µ —Å–µ–≥–æ–¥–Ω—è —Å–æ–±—ã—Ç–∏–µ
            if (lastVisitDate === today) {
                const event = getTodaysEvent();
                showEvent(event);
            }
            
            // –ö–Ω–æ–ø–∫–∞ "–£–∑–Ω–∞—Ç—å —Å–æ–±—ã—Ç–∏–µ –¥–Ω—è"
            document.getElementById('generateBtn').addEventListener('click', function() {
                const event = getTodaysEvent();
                localStorage.setItem('lastVisitDate', today);
                showEvent(event);
            });
            
            // –ö–Ω–æ–ø–∫–∞ "–°–ª–µ–¥—É—é—â–µ–µ —Å–æ–±—ã—Ç–∏–µ"
            document.getElementById('newEventBtn').addEventListener('click', function() {
                const event = getRandomEvent();
                showEvent(event);
            });
            
            // –ó–∞–ø—É—Å–∫–∞–µ–º —Ç–∞–π–º–µ—Ä –æ–±–Ω–æ–≤–ª–µ–Ω–∏—è
            setInterval(updateResetInfo, 60000);
            updateResetInfo();
        }

        // –ó–∞–ø—É—Å–∫–∞–µ–º –ø—Ä–∏–ª–æ–∂–µ–Ω–∏–µ –ø—Ä–∏ –∑–∞–≥—Ä—É–∑–∫–µ —Å—Ç—Ä–∞–Ω–∏—Ü—ã
        document.addEventListener('DOMContentLoaded', initApp);
    </script>
</body>
</html>
